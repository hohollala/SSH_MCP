<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSH MCP Server - 사용법 가이드</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            border-radius: 10px;
            text-align: center;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .nav {
            background: white;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .nav a {
            color: #667eea;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .nav a:hover {
            background-color: #f0f0f0;
        }

        .section {
            background: white;
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h2 {
            color: #667eea;
            margin-bottom: 1rem;
            font-size: 1.8rem;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 0.5rem;
        }

        h3 {
            color: #495057;
            margin: 1.5rem 0 1rem 0;
            font-size: 1.3rem;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
        }

        .json-code {
            background: #2d3748;
            color: #e2e8f0;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .feature-card h4 {
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .step {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 5px 5px 0;
        }

        .step-number {
            background: #2196f3;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 1rem;
        }

        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .tool-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .tool-name {
            color: #667eea;
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .param-table th,
        .param-table td {
            border: 1px solid #dee2e6;
            padding: 0.75rem;
            text-align: left;
        }

        .param-table th {
            background: #f8f9fa;
            font-weight: bold;
        }

        .required {
            color: #dc3545;
            font-weight: bold;
        }

        .optional {
            color: #6c757d;
        }

        footer {
            text-align: center;
            padding: 2rem;
            color: #6c757d;
            border-top: 1px solid #e9ecef;
            margin-top: 3rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .nav ul {
                flex-direction: column;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>🚀 SSH MCP Server</h1>
            <p class="subtitle">AI 클라이언트를 위한 SSH 작업 서버 - 완전한 사용법 가이드</p>
        </header>

        <nav class="nav">
            <ul>
                <li><a href="#overview">개요</a></li>
                <li><a href="#installation">설치</a></li>
                <li><a href="#configuration">설정</a></li>
                <li><a href="#tools">도구 사용법</a></li>
                <li><a href="#examples">사용 예제</a></li>
                <li><a href="#troubleshooting">문제 해결</a></li>
            </ul>
        </nav>

        <section id="overview" class="section">
            <h2>📋 개요</h2>
            <p>SSH MCP Server는 Claude Code, Gemini CLI, Claude Desktop과 같은 AI 클라이언트가 SSH를 통해 원격 Linux 서버에서 작업을 수행할 수 있게 해주는 Model Context Protocol (MCP) 서버입니다.</p>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>🔐 보안 인증</h4>
                    <p>SSH 키, 비밀번호, SSH 에이전트 인증 방법 지원</p>
                </div>
                <div class="feature-card">
                    <h4>🔗 다중 연결</h4>
                    <p>최대 10개의 동시 SSH 연결 관리</p>
                </div>
                <div class="feature-card">
                    <h4>📁 파일 작업</h4>
                    <p>원격 파일 읽기, 쓰기, 디렉토리 목록 조회</p>
                </div>
                <div class="feature-card">
                    <h4>⚡ 명령 실행</h4>
                    <p>원격 서버에서 명령 실행 및 결과 반환</p>
                </div>
                <div class="feature-card">
                    <h4>🤖 AI 호환성</h4>
                    <p>Claude Code, Gemini CLI, Claude Desktop 완전 지원</p>
                </div>
                <div class="feature-card">
                    <h4>🛡️ 오류 처리</h4>
                    <p>포괄적인 오류 보고 및 복구 메커니즘</p>
                </div>
            </div>
        </section>

        <section id="installation" class="section">
            <h2>📦 설치</h2>
            
            <h3>빠른 설치 (권장)</h3>
            <div class="code-block">
pip install ssh-mcp-server
            </div>

            <h3>가상 환경 사용 (권장)</h3>
            <div class="step">
                <span class="step-number">1</span>
                <strong>가상 환경 생성:</strong>
                <div class="code-block">
python -m venv ssh-mcp-env
source ssh-mcp-env/bin/activate  # Linux/macOS
# 또는
ssh-mcp-env\Scripts\activate     # Windows
                </div>
            </div>

            <div class="step">
                <span class="step-number">2</span>
                <strong>SSH MCP Server 설치:</strong>
                <div class="code-block">
pip install ssh-mcp-server
                </div>
            </div>

            <div class="step">
                <span class="step-number">3</span>
                <strong>설치 확인:</strong>
                <div class="code-block">
ssh-mcp-server --version
                </div>
            </div>

            <div class="success">
                <strong>✅ 설치 완료!</strong> 이제 MCP 클라이언트에서 SSH MCP Server를 사용할 수 있습니다.
            </div>
        </section>

        <section id="configuration" class="section">
            <h2>⚙️ 설정</h2>

            <h3>MCP 클라이언트 설정</h3>

            <h4>Claude Code 설정</h4>
            <p>Claude Code의 MCP 설정 파일에 다음을 추가하세요:</p>
            <div class="json-code">
{
  "mcpServers": {
    "ssh-server": {
      "command": "ssh-mcp-server",
      "env": {
        "SSH_MCP_DEBUG": "false",
        "SSH_MCP_TIMEOUT": "30",
        "SSH_MCP_MAX_CONNECTIONS": "10"
      }
    }
  }
}
            </div>

            <h4>Gemini CLI 설정</h4>
            <div class="json-code">
{
  "mcpServers": {
    "ssh-server": {
      "command": "ssh-mcp-server",
      "env": {
        "SSH_MCP_TIMEOUT": "45"
      }
    }
  }
}
            </div>

            <h4>Claude Desktop 설정</h4>
            <div class="json-code">
{
  "mcpServers": {
    "ssh-server": {
      "command": "ssh-mcp-server",
      "env": {
        "SSH_MCP_MAX_CONNECTIONS": "5"
      }
    }
  }
}
            </div>

            <h3>환경 변수</h3>
            <table class="param-table">
                <thead>
                    <tr>
                        <th>변수명</th>
                        <th>설명</th>
                        <th>기본값</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>SSH_MCP_DEBUG</code></td>
                        <td>디버그 로깅 활성화</td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td><code>SSH_MCP_TIMEOUT</code></td>
                        <td>연결 타임아웃 (초)</td>
                        <td>30</td>
                    </tr>
                    <tr>
                        <td><code>SSH_MCP_MAX_CONNECTIONS</code></td>
                        <td>최대 동시 연결 수</td>
                        <td>10</td>
                    </tr>
                    <tr>
                        <td><code>SSH_MCP_LOG_LEVEL</code></td>
                        <td>로그 레벨</td>
                        <td>INFO</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="tools" class="section">
            <h2>🛠️ 도구 사용법</h2>

            <div class="tool-card">
                <div class="tool-name">ssh_connect - SSH 연결 생성</div>
                <p>원격 서버에 SSH 연결을 설정합니다.</p>
                
                <h4>필수 매개변수:</h4>
                <table class="param-table">
                    <tr>
                        <td><code>hostname</code></td>
                        <td>원격 서버 호스트명 또는 IP 주소</td>
                        <td class="required">필수</td>
                    </tr>
                    <tr>
                        <td><code>username</code></td>
                        <td>SSH 사용자명</td>
                        <td class="required">필수</td>
                    </tr>
                    <tr>
                        <td><code>auth_method</code></td>
                        <td>인증 방법: "key", "password", "agent"</td>
                        <td class="required">필수</td>
                    </tr>
                </table>

                <h4>선택적 매개변수:</h4>
                <table class="param-table">
                    <tr>
                        <td><code>port</code></td>
                        <td>SSH 포트 번호</td>
                        <td class="optional">기본값: 22</td>
                    </tr>
                    <tr>
                        <td><code>timeout</code></td>
                        <td>연결 타임아웃 (초)</td>
                        <td class="optional">기본값: 30</td>
                    </tr>
                    <tr>
                        <td><code>key_path</code></td>
                        <td>SSH 개인키 파일 경로</td>
                        <td class="optional">key 인증시 필요</td>
                    </tr>
                    <tr>
                        <td><code>password</code></td>
                        <td>SSH 비밀번호</td>
                        <td class="optional">password 인증시 필요</td>
                    </tr>
                </table>

                <h4>사용 예제:</h4>
                <div class="json-code">
{
  "name": "ssh_connect",
  "arguments": {
    "hostname": "example.com",
    "username": "myuser",
    "auth_method": "key",
    "key_path": "~/.ssh/id_rsa"
  }
}
                </div>
            </div>

            <div class="tool-card">
                <div class="tool-name">ssh_execute - 명령 실행</div>
                <p>원격 서버에서 명령을 실행합니다.</p>
                
                <table class="param-table">
                    <tr>
                        <td><code>connection_id</code></td>
                        <td>사용할 SSH 연결 ID</td>
                        <td class="required">필수</td>
                    </tr>
                    <tr>
                        <td><code>command</code></td>
                        <td>실행할 명령</td>
                        <td class="required">필수</td>
                    </tr>
                    <tr>
                        <td><code>timeout</code></td>
                        <td>명령 타임아웃 (초)</td>
                        <td class="optional">기본값: 30</td>
                    </tr>
                </table>

                <h4>사용 예제:</h4>
                <div class="json-code">
{
  "name": "ssh_execute",
  "arguments": {
    "connection_id": "conn_12345",
    "command": "ls -la /home/user"
  }
}
                </div>
            </div>

            <div class="tool-card">
                <div class="tool-name">ssh_read_file - 파일 읽기</div>
                <p>원격 서버의 파일 내용을 읽습니다.</p>
                
                <table class="param-table">
                    <tr>
                        <td><code>connection_id</code></td>
                        <td>사용할 SSH 연결 ID</td>
                        <td class="required">필수</td>
                    </tr>
                    <tr>
                        <td><code>file_path</code></td>
                        <td>읽을 파일의 경로</td>
                        <td class="required">필수</td>
                    </tr>
                    <tr>
                        <td><code>encoding</code></td>
                        <td>파일 인코딩</td>
                        <td class="optional">기본값: utf-8</td>
                    </tr>
                </table>

                <h4>사용 예제:</h4>
                <div class="json-code">
{
  "name": "ssh_read_file",
  "arguments": {
    "connection_id": "conn_12345",
    "file_path": "/etc/hostname"
  }
}
                </div>
            </div>

            <div class="tool-card">
                <div class="tool-name">ssh_write_file - 파일 쓰기</div>
                <p>원격 서버에 파일을 작성합니다.</p>
                
                <table class="param-table">
                    <tr>
                        <td><code>connection_id</code></td>
                        <td>사용할 SSH 연결 ID</td>
                        <td class="required">필수</td>
                    </tr>
                    <tr>
                        <td><code>file_path</code></td>
                        <td>작성할 파일의 경로</td>
                        <td class="required">필수</td>
                    </tr>
                    <tr>
                        <td><code>content</code></td>
                        <td>파일에 쓸 내용</td>
                        <td class="required">필수</td>
                    </tr>
                    <tr>
                        <td><code>mode</code></td>
                        <td>파일 권한 (8진수)</td>
                        <td class="optional">예: "644"</td>
                    </tr>
                </table>

                <h4>사용 예제:</h4>
                <div class="json-code">
{
  "name": "ssh_write_file",
  "arguments": {
    "connection_id": "conn_12345",
    "file_path": "/tmp/test.txt",
    "content": "Hello, World!",
    "mode": "644"
  }
}
                </div>
            </div>

            <div class="tool-card">
                <div class="tool-name">ssh_list_directory - 디렉토리 목록</div>
                <p>원격 서버의 디렉토리 내용을 나열합니다.</p>
                
                <table class="param-table">
                    <tr>
                        <td><code>connection_id</code></td>
                        <td>사용할 SSH 연결 ID</td>
                        <td class="required">필수</td>
                    </tr>
                    <tr>
                        <td><code>directory_path</code></td>
                        <td>나열할 디렉토리 경로</td>
                        <td class="required">필수</td>
                    </tr>
                    <tr>
                        <td><code>show_hidden</code></td>
                        <td>숨김 파일 포함 여부</td>
                        <td class="optional">기본값: false</td>
                    </tr>
                    <tr>
                        <td><code>detailed</code></td>
                        <td>상세 정보 포함 여부</td>
                        <td class="optional">기본값: false</td>
                    </tr>
                </table>

                <h4>사용 예제:</h4>
                <div class="json-code">
{
  "name": "ssh_list_directory",
  "arguments": {
    "connection_id": "conn_12345",
    "directory_path": "/home/user",
    "detailed": true
  }
}
                </div>
            </div>

            <div class="tool-card">
                <div class="tool-name">ssh_list_connections - 연결 목록</div>
                <p>모든 활성 SSH 연결을 나열합니다.</p>
                
                <p><strong>매개변수:</strong> 없음</p>

                <h4>사용 예제:</h4>
                <div class="json-code">
{
  "name": "ssh_list_connections",
  "arguments": {}
}
                </div>
            </div>

            <div class="tool-card">
                <div class="tool-name">ssh_disconnect - 연결 종료</div>
                <p>SSH 연결을 종료합니다.</p>
                
                <table class="param-table">
                    <tr>
                        <td><code>connection_id</code></td>
                        <td>종료할 SSH 연결 ID</td>
                        <td class="required">필수</td>
                    </tr>
                </table>

                <h4>사용 예제:</h4>
                <div class="json-code">
{
  "name": "ssh_disconnect",
  "arguments": {
    "connection_id": "conn_12345"
  }
}
                </div>
            </div>
        </section>

        <section id="examples" class="section">
            <h2>💡 사용 예제</h2>

            <h3>기본 워크플로우</h3>
            <div class="step">
                <span class="step-number">1</span>
                <strong>서버에 연결:</strong>
                <div class="json-code">
{
  "name": "ssh_connect",
  "arguments": {
    "hostname": "myserver.com",
    "username": "myuser",
    "auth_method": "key",
    "key_path": "~/.ssh/id_rsa"
  }
}
                </div>
            </div>

            <div class="step">
                <span class="step-number">2</span>
                <strong>시스템 정보 확인:</strong>
                <div class="json-code">
{
  "name": "ssh_execute",
  "arguments": {
    "connection_id": "conn_12345",
    "command": "uname -a && df -h"
  }
}
                </div>
            </div>

            <div class="step">
                <span class="step-number">3</span>
                <strong>파일 작업:</strong>
                <div class="json-code">
{
  "name": "ssh_read_file",
  "arguments": {
    "connection_id": "conn_12345",
    "file_path": "/etc/hostname"
  }
}
                </div>
            </div>

            <div class="step">
                <span class="step-number">4</span>
                <strong>연결 종료:</strong>
                <div class="json-code">
{
  "name": "ssh_disconnect",
  "arguments": {
    "connection_id": "conn_12345"
  }
}
                </div>
            </div>

            <h3>인증 방법별 예제</h3>

            <h4>SSH 키 인증</h4>
            <div class="json-code">
{
  "name": "ssh_connect",
  "arguments": {
    "hostname": "example.com",
    "username": "user",
    "auth_method": "key",
    "key_path": "~/.ssh/id_rsa"
  }
}
            </div>

            <h4>비밀번호 인증</h4>
            <div class="json-code">
{
  "name": "ssh_connect",
  "arguments": {
    "hostname": "example.com",
    "username": "user",
    "auth_method": "password",
    "password": "mypassword"
  }
}
            </div>

            <h4>SSH 에이전트 인증</h4>
            <div class="json-code">
{
  "name": "ssh_connect",
  "arguments": {
    "hostname": "example.com",
    "username": "user",
    "auth_method": "agent"
  }
}
            </div>

            <h3>개발 워크플로우 예제</h3>
            <div class="code-block">
# 1. 개발 서버 연결
ssh_connect → connection_id 획득

# 2. 프로젝트 디렉토리 탐색
ssh_list_directory → 프로젝트 구조 확인

# 3. 소스 코드 읽기
ssh_read_file → 코드 내용 확인

# 4. 테스트 실행
ssh_execute → 테스트 명령 실행

# 5. 결과 파일 작성
ssh_write_file → 결과 저장

# 6. 연결 정리
ssh_disconnect → 연결 종료
            </div>
        </section>

        <section id="troubleshooting" class="section">
            <h2>🔧 문제 해결</h2>

            <h3>일반적인 문제들</h3>

            <div class="warning">
                <h4>⚠️ "SSH connection failed: Connection timed out"</h4>
                <p><strong>원인:</strong> 네트워크 연결 문제, 방화벽 차단, 잘못된 호스트명</p>
                <p><strong>해결책:</strong></p>
                <ul>
                    <li>네트워크 연결 확인: <code>ping hostname</code></li>
                    <li>SSH 포트 확인: <code>telnet hostname 22</code></li>
                    <li>타임아웃 증가: <code>"timeout": 60</code></li>
                </ul>
            </div>

            <div class="warning">
                <h4>⚠️ "SSH authentication failed"</h4>
                <p><strong>원인:</strong> 잘못된 인증 정보, SSH 키 권한 문제</p>
                <p><strong>해결책:</strong></p>
                <ul>
                    <li>SSH 키 권한 확인: <code>chmod 600 ~/.ssh/id_rsa</code></li>
                    <li>SSH 에이전트 확인: <code>ssh-add -l</code></li>
                    <li>수동 SSH 테스트: <code>ssh user@hostname</code></li>
                </ul>
            </div>

            <div class="warning">
                <h4>⚠️ "Command execution failed"</h4>
                <p><strong>원인:</strong> 권한 부족, 명령어 오류, 타임아웃</p>
                <p><strong>해결책:</strong></p>
                <ul>
                    <li>권한 확인: <code>whoami</code> 명령으로 사용자 확인</li>
                    <li>sudo 사용: 필요시 <code>sudo</code> 명령 사용</li>
                    <li>타임아웃 증가: <code>"timeout": 120</code></li>
                </ul>
            </div>

            <h3>디버그 모드 활성화</h3>
            <div class="code-block">
# 환경 변수로 디버그 활성화
export SSH_MCP_DEBUG=true
export SSH_MCP_LOG_LEVEL=DEBUG

# MCP 클라이언트 설정에서 디버그 활성화
{
  "mcpServers": {
    "ssh-server": {
      "command": "ssh-mcp-server",
      "env": {
        "SSH_MCP_DEBUG": "true",
        "SSH_MCP_LOG_LEVEL": "DEBUG"
      }
    }
  }
}
            </div>

            <h3>연결 테스트</h3>
            <div class="code-block">
# SSH MCP Server 버전 확인
ssh-mcp-server --version

# 기본 기능 테스트
echo '{"jsonrpc":"2.0","method":"tools/list","id":1}' | ssh-mcp-server --stdin

# SSH 연결 테스트
ssh user@hostname
            </div>

            <div class="success">
                <strong>💡 팁:</strong> 문제가 지속되면 <a href="https://github.com/ssh-mcp-server/ssh-mcp-server/issues">GitHub Issues</a>에서 도움을 요청하세요.
            </div>
        </section>

        <footer>
            <p>&copy; 2024 SSH MCP Server Team. MIT License.</p>
            <p>
                <a href="https://github.com/ssh-mcp-server/ssh-mcp-server">GitHub</a> |
                <a href="https://github.com/ssh-mcp-server/ssh-mcp-server/issues">Issues</a> |
                <a href="https://github.com/ssh-mcp-server/ssh-mcp-server/discussions">Discussions</a>
            </p>
        </footer>
    </div>

    <script>
        // 부드러운 스크롤 효과
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // 코드 블록 복사 기능
        document.querySelectorAll('.code-block, .json-code').forEach(block => {
            block.addEventListener('click', function() {
                navigator.clipboard.writeText(this.textContent.trim()).then(() => {
                    const originalBg = this.style.backgroundColor;
                    this.style.backgroundColor = '#d4edda';
                    setTimeout(() => {
                        this.style.backgroundColor = originalBg;
                    }, 200);
                });
            });
            
            // 마우스 오버 시 복사 힌트
            block.title = '클릭하여 복사';
            block.style.cursor = 'pointer';
        });
    </script>
</body>
</html>